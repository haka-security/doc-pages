


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Buffers &mdash; Haka runtime 0.3.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/haka.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/scripts.js"></script>
    <script type="text/javascript" src="../../_static/js/vendor/modernizr.js"></script>
    <script type="text/javascript" src="../../_static/js/foundation/foundation.js"></script>
    <script type="text/javascript" src="../../_static/js/foundation/foundation.topbar.js"></script>
    <link rel="top" title="Haka runtime 0.3.0 documentation" href="../../index.html" />
    <link rel="up" title="Welcome to Haka’s User Reference Guide!" href="refindex.html" />
    <link rel="next" title="4. Logging" href="log.html" />
    <link rel="prev" title="2. Packet" href="packet.html" /> 
  </head>
  <body>


<header id="header" role="banner">
	<div class="row">
		<div class="medium-6 columns">
			<h1 class="title"><a rel="home" title="Haka" href="http://www.haka-security.org">Haka</a></h1>
			<h2 class="description">Software Defined Security</h2>
		</div>
		<div class="medium-6 columns">
			<div id="version">Version 0.3.0</div>
		</div>
	</div>
</header>

<div class="contain-to-grid sticky">
	

<nav id="navbar" class="top-bar" data-topbar>
	<ul class="title-area">
		<!-- This is required for toggle-topbar to work -->
		<li class="name"></li>
		<li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
	</ul>
	<section class="top-bar-section">
		<ul class="left">
			<li class=" ">
				<a href="../user/userindex.html">Users</a>
			</li>
			<li class=" active">
				<a href="refindex.html" class="refindex.html">References</a>
			</li>
			<li class=" ">
				<a href="../developer/devindex.html" class="">Developers</a>
			</li>
			<li class=" ">
				<a href="../faq.html" class="">Faq</a>
			</li>
			<li class="has-form">


	<form class="search" action="../../search.html" method="get" id="searchbox" style="display: none">
		<input type="hidden" name="area" value="default" />
		<input type="hidden" name="check_keywords" value="yes" />
		<div class="row collapse">
			<div class="medium-11 columns">
				<input type="text" name="q" placeholder="Search" />
			</div>
			<div class="medium-1 columns" id="clean-search-highlight">
			</div>
		</div>
	</form>
	<script type="text/javascript">$('#searchbox').show(0);</script>
</li>
		</ul>
		<ul class="right">
				<li class="right"><a href="log.html" title="4. Logging">Next &rarr;</a></li>
				<li class="right"><a href="packet.html" title="2. Packet">&larr; Prev</a></li>
				<li class="right"><a href="refindex.html" title="Welcome to Haka&#8217;s User Reference Guide!">Up &uarr;</a></li>

			<li class=" right"><a href="../../genindex.html">Index</a></li>
			<li class=" right"><a href="../../haka-modindex.html">Modules</a></li>
		</ul>
	</section>
</nav>
</div>
<div id="content">
	<div class="row">
		<ul id="breadcrumb" class="breadcrumbs medium-12 columns">
			
			<li><a href="refindex.html">Welcome to Haka&#8217;s User Reference Guide!</a></li>
			
			<li class="current"><a href="#">3. Buffers</a></li>
		</ul>
	</div>
	<div class="row">
		<div class="medium-12 columns">
			
  <div class="section" id="buffers">
<h1>3. Buffers<a class="headerlink" href="#buffers" title="Permalink to this headline">¶</a></h1>
<p>Virtual buffer allows to access memory data. Using scatter lists, it enables
easy and efficient modifications on memory data.</p>
<div class="section" id="haka-module.haka">
<span id="buffer"></span><h2>3.1. Buffer<a class="headerlink" href="#haka-module.haka" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="haka-object.vbuffer">
<em class="property">object </em><tt class="descname">vbuffer</tt><a class="headerlink" href="#haka-object.vbuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>The main buffer object.</p>
<img alt="../../_images/buffer.png" class="align-center" src="../../_images/buffer.png" />
<dl class="function">
<dt id="haka-function.haka.vbuffer_allocate">
<em class="property"> </em><tt class="descclassname">haka.</tt><tt class="descname">vbuffer_allocate</tt><big>(</big><em>size</em>, <em>zero = true</em><big>)</big> &rarr; vbuffer<a class="headerlink" href="#haka-function.haka.vbuffer_allocate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Requested memory size.</li>
<li><strong>zero</strong> (<em>boolean</em>) &#8211; Zero the memory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>vbuffer</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Created buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Allocate a new buffer with a specific size.</p>
</dd></dl>

<dl class="function">
<dt id="haka-function.haka.vbuffer_from">
<em class="property"> </em><tt class="descclassname">haka.</tt><tt class="descname">vbuffer_from</tt><big>(</big><em>string</em><big>)</big> &rarr; vbuffer<a class="headerlink" href="#haka-function.haka.vbuffer_from" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> (<em>string</em>) &#8211; Source data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>vbuffer</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Created buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Allocate a new buffer from a Lua <tt class="docutils literal"><span class="pre">string</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The string will be copied into the allocated buffer.</p>
</div>
</dd></dl>

<dl class="operator">
<dt id="haka-operator.&lt;vbuffer&gt;.[]">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer&gt;</tt><big>[</big><em>index</em><big>]</big> &rarr; byte<a class="headerlink" href="#haka-operator.<vbuffer>.[]" title="Permalink to this definition">¶</a></dt>
<dt>
<em class="property"> </em><tt class="descclassname">&lt;vbuffer&gt;</tt><big>[</big><em>index</em><big>]</big> = byte</dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Byte index in the data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Get or set a byte in the data.</p>
</dd></dl>

<dl class="operator">
<dt id="haka-operator.&lt;vbuffer&gt;.#">
<em class="property"> </em><tt class="descname">#</tt><tt class="descclassname">&lt;vbuffer&gt;</tt> &rarr; count<a class="headerlink" href="#haka-operator.<vbuffer>.#" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>count</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Number of bytes in the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Get the size of the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer&gt;.pos">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer&gt;:</tt><tt class="descname">pos</tt><big>(</big><em>offset = 'begin'</em><big>)</big> &rarr; iter<a class="headerlink" href="#haka-function.<vbuffer>.pos" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<em>number or string</em>) &#8211; Position offset as number, <tt class="docutils literal"><span class="pre">'begin'</span></tt> or <tt class="docutils literal"><span class="pre">'end'</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>iter</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Iterator at the required position.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Return an iterator at the given offset in the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer&gt;.sub">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer&gt;:</tt><tt class="descname">sub</tt><big>(</big><em>offset = 0</em>, <em>size = 'all'</em><big>)</big> &rarr; sub<a class="headerlink" href="#haka-function.<vbuffer>.sub" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Position offset.</li>
<li><strong>size</strong> (<em>number or string</em>) &#8211; Size of the requested sub-buffer or <tt class="docutils literal"><span class="pre">'all'</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Create sub-buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Return a sub-part of the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer&gt;.append">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer&gt;:</tt><tt class="descname">append</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer>.append" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Data to append to the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Insert some data at the end of the current buffer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Data will be transfered from the vbuffer you passed making <em>data</em> empty after this call.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer&gt;.clone">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer&gt;:</tt><tt class="descname">clone</tt><big>(</big><em>copy=false</em><big>)</big> &rarr; clone<a class="headerlink" href="#haka-function.<vbuffer>.clone" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>copy</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">true</span></tt> copy the memory otherwise it is shared.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>clone</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Cloned buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Clone the buffer and optionally copy its memory data.</p>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer&gt;.modified">
<em class="property">const  </em><tt class="descclassname">&lt;vbuffer&gt;.</tt><tt class="descname">modified</tt><a class="headerlink" href="#haka-attribute.<vbuffer>.modified" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">true</span></tt> if the buffer has been modified, <tt class="docutils literal"><span class="pre">false</span></tt> otherwise.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sub-buffer">
<h2>3.2. Sub-buffer<a class="headerlink" href="#sub-buffer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="haka-object.vbuffer_sub">
<em class="property">object </em><tt class="descname">vbuffer_sub</tt><a class="headerlink" href="#haka-object.vbuffer_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Object used to represent part of a buffer.</p>
<img alt="../../_images/subbuffer.png" class="align-center" src="../../_images/subbuffer.png" />
<dl class="function">
<dt id="haka-function.haka.vbuffer_sub">
<em class="property"> </em><tt class="descclassname">haka.</tt><tt class="descname">vbuffer_sub</tt><big>(</big><em>begin</em>, <em>end</em><big>)</big> &rarr; sub<a class="headerlink" href="#haka-function.haka.vbuffer_sub" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>begin</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Beginning position.</li>
<li><strong>end</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Ending position.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Created sub-buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Create a sub-buffer for two iterator.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The two iterators must be built from the same buffer.</p>
</div>
</dd></dl>

<dl class="operator">
<dt id="haka-operator.&lt;vbuffer_sub&gt;.[]">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;</tt><big>[</big><em>index</em><big>]</big> &rarr; byte<a class="headerlink" href="#haka-operator.<vbuffer_sub>.[]" title="Permalink to this definition">¶</a></dt>
<dt>
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;</tt><big>[</big><em>index</em><big>]</big> = byte</dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Byte index in the data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Get or set a byte in the data.</p>
</dd></dl>

<dl class="operator">
<dt id="haka-operator.&lt;vbuffer_sub&gt;.#">
<em class="property"> </em><tt class="descname">#</tt><tt class="descclassname">&lt;vbuffer_sub&gt;</tt> &rarr; count<a class="headerlink" href="#haka-operator.<vbuffer_sub>.#" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>count</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Number of bytes in the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Get the size of the sub-buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.pos">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">pos</tt><big>(</big><em>offset = 'begin'</em><big>)</big> &rarr; iter<a class="headerlink" href="#haka-function.<vbuffer_sub>.pos" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<em>number or string</em>) &#8211; Position offset as number, <tt class="docutils literal"><span class="pre">'begin'</span></tt> or <tt class="docutils literal"><span class="pre">'end'</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>iter</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Iterator at the required position.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Return an iterator at the given offset in the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.sub">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">sub</tt><big>(</big><em>offset = 0</em>, <em>size = 'all'</em><big>)</big> &rarr; sub<a class="headerlink" href="#haka-function.<vbuffer_sub>.sub" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Position offset.</li>
<li><strong>size</strong> (<em>number or string</em>) &#8211; Size of the requested sub-buffer or <tt class="docutils literal"><span class="pre">'all'</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Create sub-buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Return a sub-part of the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.zero">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">zero</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Zero the sub-buffer memory data.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.erase">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">erase</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.erase" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase the sub-buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.replace">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">replace</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.replace" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Replace the sub-buffer by some new data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Data will be removed from the given parameter making <em>data</em> empty after this call.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.isflat">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">isflat</tt><big>(</big><big>)</big> &rarr; isflat<a class="headerlink" href="#haka-function.<vbuffer_sub>.isflat" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>isflat</strong> (<em>boolean</em>) &#8211; <tt class="docutils literal"><span class="pre">true</span></tt> if the buffer is flat.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Check if the buffer is flat (ie. it is made of only one memory chunk).</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.flatten">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">flatten</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the sub-buffer by a flat buffer containing only one memory chunk.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The memory will be copied if needed.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.size">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">size</tt><big>(</big><big>)</big> &rarr; size<a class="headerlink" href="#haka-function.<vbuffer_sub>.size" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Size of the sub-buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Compute the size of the sub-buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.check_size">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">check_size</tt><big>(</big><em>size</em><big>)</big> &rarr; enough, size<a class="headerlink" href="#haka-function.<vbuffer_sub>.check_size" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Minimum buffer size to check for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>enough</strong> (<em>boolean</em>) &#8211; <tt class="docutils literal"><span class="pre">true</span></tt> if the sub-buffer is larger or equal to <em>size</em>.</li>
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; If <em>enough</em> is <tt class="docutils literal"><span class="pre">false</span></tt>, size of the sub-buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Check if the buffer size is larger or equal to a given value.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.select">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">select</tt><big>(</big><big>)</big> &rarr; iter, buffer<a class="headerlink" href="#haka-function.<vbuffer_sub>.select" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>iter</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Reference iterator.</li>
<li><strong>buffer</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Extracted buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Select this sub-buffer. The content is extracted from the buffer.
To reinsert the data, you can use <a class="reference internal" href="#haka-function.&lt;vbuffer_iterator&gt;.restore" title="&amp;lt;vbuffer_iterator&amp;gt;.restore"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_iterator&gt;.restore()</span></tt></a>
with the reference iterator that is returned as the first value.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be sure to keep the <em>reference iterator</em> or you won&#8217;t be
able to restore this sub-buffer.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.asnumber">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">asnumber</tt><big>(</big><em>endian = 'big'</em><big>)</big> &rarr; num<a class="headerlink" href="#haka-function.<vbuffer_sub>.asnumber" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>endian</strong> (<em>string</em>) &#8211; Endianness of data (<tt class="docutils literal"><span class="pre">'big'</span></tt> or <tt class="docutils literal"><span class="pre">'little'</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>num</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Computed value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Read the sub-buffer and convert it to a number.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.setnumber">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">setnumber</tt><big>(</big><em>value</em>, <em>endian = 'big'</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.setnumber" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; New value.</li>
<li><strong>endian</strong> (<em>string</em>) &#8211; Endianness of data (<tt class="docutils literal"><span class="pre">'big'</span></tt> or <tt class="docutils literal"><span class="pre">'little'</span></tt>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Write a number to the buffer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This call throw an error if the number can&#8217;t fit in the
sub-buffer.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.asbits">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">asbits</tt><big>(</big><em>offset</em>, <em>length</em>, <em>endian = 'big'</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.asbits" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>offset</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Bit positon offset.</li>
<li><strong>length</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Size in bits.</li>
<li><strong>endian</strong> (<em>string</em>) &#8211; Endianness of data (<tt class="docutils literal"><span class="pre">'big'</span></tt> or <tt class="docutils literal"><span class="pre">'little'</span></tt>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Read some bits the buffer and convert it to a number.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.setbits">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">setbits</tt><big>(</big><em>offset</em>, <em>length</em>, <em>value</em>, <em>endian = 'big'</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.setbits" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>offset</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Bit positon offset.</li>
<li><strong>length</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Size in bits.</li>
<li><strong>value</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; New value.</li>
<li><strong>endian</strong> (<em>string</em>) &#8211; Endianness of data (<tt class="docutils literal"><span class="pre">'big'</span></tt> or <tt class="docutils literal"><span class="pre">'little'</span></tt>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Write a number to some bits of the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.asstring">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">asstring</tt><big>(</big><big>)</big> &rarr; str<a class="headerlink" href="#haka-function.<vbuffer_sub>.asstring" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>str</strong> (<em>string</em>) &#8211; Computed value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Read the sub-buffer and convert it to a string.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.setstring">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">setstring</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.setstring" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<em>string</em>) &#8211; New value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Replace the sub-buffer by the given string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the string is larger or smaller than the current value,
the buffer will be extended or shrinked to hold the new value.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub&gt;.setfixedstring">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub&gt;:</tt><tt class="descname">setfixedstring</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub>.setfixedstring" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<em>string</em>) &#8211; New value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Replace, in-place, the sub-buffer by the given string. The size of the buffer will not change.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="iterator">
<h2>3.3. Iterator<a class="headerlink" href="#iterator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="haka-object.vbuffer_iterator">
<em class="property">object </em><tt class="descname">vbuffer_iterator</tt><a class="headerlink" href="#haka-object.vbuffer_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator on a buffer. An iterator can be <em>blocking</em> when working on a stream. In this case, some functions
can block waiting for more data to be available.</p>
<img alt="../../_images/buffer.png" class="align-center" src="../../_images/buffer.png" />
<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.mark">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">mark</tt><big>(</big><em>readonly = false</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_iterator>.mark" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>readonly</strong> (<em>boolean</em>) &#8211; State of the mark.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Create a mark on the buffer at the iterator position.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.unmark">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">unmark</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_iterator>.unmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a mark on the buffer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The iterator must point to a previously
created mark otherwise an error will be raised.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.advance">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">advance</tt><big>(</big><em>size</em><big>)</big> &rarr; relsize<a class="headerlink" href="#haka-function.<vbuffer_iterator>.advance" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Amount of bytes to skip</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>relsize</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; The real amount of bytes skipped. This value can be smaller than size if not enough data are available.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Advance the iterator of the given <em>size</em> bytes.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.available">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">available</tt><big>(</big><big>)</big> &rarr; size<a class="headerlink" href="#haka-function.<vbuffer_iterator>.available" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Available bytes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Get the amount of bytes available after the iterator position.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.check_available">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">check_available</tt><big>(</big><em>size</em><big>)</big> &rarr; enough, size<a class="headerlink" href="#haka-function.<vbuffer_iterator>.check_available" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; Minimum buffer size to check for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>enough</strong> (<em>boolean</em>) &#8211; <tt class="docutils literal"><span class="pre">true</span></tt> if the available data are larger or equal to <em>size</em>.</li>
<li><strong>size</strong> (<a class="reference internal" href="grammar.html#haka-function.number" title="number"><em>number</em></a>) &#8211; If <em>enough</em> is <tt class="docutils literal"><span class="pre">false</span></tt>, size of the available data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Check if the available bytes are larger or equal to a given value.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.insert">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">insert</tt><big>(</big><em>data</em><big>)</big> &rarr; sub<a class="headerlink" href="#haka-function.<vbuffer_iterator>.insert" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Buffer to insert.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Sub-buffer matching the inserted data in the new buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Insert some data at the iterator position.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Data will be removed from the given parameter making <em>data</em> empty after this call.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.restore">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">restore</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_iterator>.restore" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Buffer to restore.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Restore data at the iterator position. This iterator must be the
<cite>reference iterator</cite> returned by <a class="reference internal" href="#haka-function.&lt;vbuffer_sub&gt;.select" title="&amp;lt;vbuffer_sub&amp;gt;.select"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_sub&gt;.select()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.sub">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">sub</tt><big>(</big><em>size</em>, <em>split = false</em><big>)</big> &rarr; sub<a class="headerlink" href="#haka-function.<vbuffer_iterator>.sub" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>size</strong> (<em>number or string</em>) &#8211; Size of the requested sub-buffer, <tt class="docutils literal"><span class="pre">'available'</span></tt> or <tt class="docutils literal"><span class="pre">'all'</span></tt>.</li>
<li><strong>split</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">true</span></tt>, a split will be done at the end of the sub-buffer (see <a class="reference internal" href="#haka-function.&lt;vbuffer_iterator&gt;.split" title="&amp;lt;vbuffer_iterator&amp;gt;.split"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_iterator&gt;.split()</span></tt></a>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Created sub-buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Create a sub-buffer from the iterator position.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.split">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">split</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_iterator>.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the buffer at the iterator position.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.move_to">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">move_to</tt><big>(</big><em>iter</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_iterator>.move_to" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>iter</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Destination iterator.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Move the iterator to a new position.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.wait">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">wait</tt><big>(</big><big>)</big> &rarr; eof<a class="headerlink" href="#haka-function.<vbuffer_iterator>.wait" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>eof</strong> (<em>boolean</em>) &#8211; <tt class="docutils literal"><span class="pre">true</span></tt> if the iterator is at the end of the buffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Wait for some data to be available.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_iterator&gt;.foreach_available">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;:</tt><tt class="descname">foreach_available</tt><big>(</big><big>)</big> &rarr; loop<a class="headerlink" href="#haka-function.<vbuffer_iterator>.foreach_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Lua iterator to build a loop getting each available sub-buffer
one by one.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span class="k">for</span> <span class="n">sub</span> <span class="k">in</span> <span class="n">iter</span><span class="p">:</span><span class="n">foreach_available</span><span class="p">()</span> <span class="k">do</span>
    <span class="nb">print</span><span class="p">(</span><span class="o">#</span><span class="n">sub</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer_iterator&gt;.meter">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_iterator&gt;.</tt><tt class="descname">meter</tt><a class="headerlink" href="#haka-attribute.<vbuffer_iterator>.meter" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">number</td>
</tr>
</tbody>
</table>
<p>Index that can be used to track the offset of the iterator. This index is automatically updated
when the iterator advance.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some functions, like <a class="reference internal" href="#haka-function.&lt;vbuffer_iterator&gt;.move_to" title="&amp;lt;vbuffer_iterator&amp;gt;.move_to"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_iterator&gt;.move_to()</span></tt></a> does not advance meter correctly.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer_iterator&gt;.iseof">
<em class="property">const  </em><tt class="descclassname">&lt;vbuffer_iterator&gt;.</tt><tt class="descname">iseof</tt><a class="headerlink" href="#haka-attribute.<vbuffer_iterator>.iseof" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">true</span></tt> if the iterator is at the end of buffer and no more data can
be available even later in case of a stream.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="streams">
<h2>3.4. Streams<a class="headerlink" href="#streams" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="haka-object.vbuffer_stream">
<em class="property">object </em><tt class="descname">vbuffer_stream</tt><a class="headerlink" href="#haka-object.vbuffer_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>A buffer stream is an object that can convert different separated buffers into
a view where only one buffer is visible. This is for instance used by TCP to
recreate a stream of data from each received packets.</p>
<img alt="../../_images/bufferstream.png" class="align-center" src="../../_images/bufferstream.png" />
<dl class="function">
<dt id="haka-function.haka.vbuffer_stream">
<em class="property"> </em><tt class="descclassname">haka.</tt><tt class="descname">vbuffer_stream</tt><big>(</big><big>)</big> &rarr; stream<a class="headerlink" href="#haka-function.haka.vbuffer_stream" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream</strong> (<a class="reference internal" href="#haka-object.vbuffer_stream" title="vbuffer_stream"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_stream</span></tt></a>) &#8211; New stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Create a new buffer stream.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream&gt;.push">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream&gt;:</tt><tt class="descname">push</tt><big>(</big><em>data</em><big>)</big> &rarr; iter<a class="headerlink" href="#haka-function.<vbuffer_stream>.push" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Buffer data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>iter</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Iterator pointing to the beginning of the new added data in the stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Push some data into the stream.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream&gt;.finish">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream&gt;:</tt><tt class="descname">finish</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_stream>.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the end of the stream. Any call to <a class="reference internal" href="#haka-function.&lt;vbuffer_stream&gt;.push" title="&amp;lt;vbuffer_stream&amp;gt;.push"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_stream&gt;.push()</span></tt></a>
will result to an error.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream&gt;.pop">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream&gt;:</tt><tt class="descname">pop</tt><big>(</big><big>)</big> &rarr; buffer<a class="headerlink" href="#haka-function.<vbuffer_stream>.pop" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>buffer</strong> (<a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>) &#8211; Extracted data from the stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Pop available data from the stream.</p>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer_stream&gt;.isfinished">
<em class="property">const  </em><tt class="descclassname">&lt;vbuffer_stream&gt;.</tt><tt class="descname">isfinished</tt><a class="headerlink" href="#haka-attribute.<vbuffer_stream>.isfinished" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
<p>Get the stream finished state.</p>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer_stream&gt;.data">
<em class="property">const  </em><tt class="descclassname">&lt;vbuffer_stream&gt;.</tt><tt class="descname">data</tt><a class="headerlink" href="#haka-attribute.<vbuffer_stream>.data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a>&nbsp;</td>
</tr>
</tbody>
</table>
<p>All data in the stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="haka-object.vbuffer_sub_stream">
<em class="property">object </em><tt class="descname">vbuffer_sub_stream</tt><a class="headerlink" href="#haka-object.vbuffer_sub_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>A sub stream is an object that will build a stream view from a list a sub-buffer.</p>
<dl class="function">
<dt id="haka-function.haka.vbuffer_sub_stream">
<em class="property"> </em><tt class="descclassname">haka.</tt><tt class="descname">vbuffer_sub_stream</tt><big>(</big><big>)</big> &rarr; sub_stream<a class="headerlink" href="#haka-function.haka.vbuffer_sub_stream" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub_stream</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub_stream" title="vbuffer_sub_stream"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub_stream</span></tt></a>) &#8211; New stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Create a new sub-buffer stream.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub_stream&gt;.push">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub_stream&gt;:</tt><tt class="descname">push</tt><big>(</big><em>data</em><big>)</big> &rarr; iter<a class="headerlink" href="#haka-function.<vbuffer_sub_stream>.push" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Sub-buffer data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>iter</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Iterator pointing to the beginning of the new added data in the stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Push some data into the stream. The sub-buffer will be extracted with a <a class="reference internal" href="#haka-function.&lt;vbuffer_sub&gt;.select" title="&amp;lt;vbuffer_sub&amp;gt;.select"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_sub&gt;.select()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub_stream&gt;.finish">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub_stream&gt;:</tt><tt class="descname">finish</tt><big>(</big><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_sub_stream>.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the end of the stream. Any call to <a class="reference internal" href="#haka-function.&lt;vbuffer_sub_stream&gt;.push" title="&amp;lt;vbuffer_sub_stream&amp;gt;.push"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_sub_stream&gt;.push()</span></tt></a>
will result to an error.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_sub_stream&gt;.pop">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_sub_stream&gt;:</tt><tt class="descname">pop</tt><big>(</big><big>)</big> &rarr; sub<a class="headerlink" href="#haka-function.<vbuffer_sub_stream>.pop" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>sub</strong> (<a class="reference internal" href="#haka-object.vbuffer_sub" title="vbuffer_sub"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_sub</span></tt></a>) &#8211; Extracted data from the stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Pop available data from the stream and automatically do a <a class="reference internal" href="#haka-function.&lt;vbuffer_iterator&gt;.restore" title="&amp;lt;vbuffer_iterator&amp;gt;.restore"><tt class="xref haka haka-func docutils literal"><span class="pre">&lt;vbuffer_iterator&gt;.restore()</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer_sub_stream&gt;.isfinished">
<em class="property">const  </em><tt class="descclassname">&lt;vbuffer_sub_stream&gt;.</tt><tt class="descname">isfinished</tt><a class="headerlink" href="#haka-attribute.<vbuffer_sub_stream>.isfinished" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
<p>Get the stream finished state.</p>
</dd></dl>

<dl class="attribute">
<dt id="haka-attribute.&lt;vbuffer_sub_stream&gt;.data">
<em class="property">const  </em><tt class="descclassname">&lt;vbuffer_sub_stream&gt;.</tt><tt class="descname">data</tt><a class="headerlink" href="#haka-attribute.<vbuffer_sub_stream>.data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="#haka-object.vbuffer" title="vbuffer"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer</span></tt></a></td>
</tr>
</tbody>
</table>
<p>All data in the stream.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stream-coroutine-manager">
<h2>3.5. Stream coroutine manager<a class="headerlink" href="#stream-coroutine-manager" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This section introduces advanced feature of Haka.</p>
</div>
<dl class="class">
<dt id="haka-object.vbuffer_stream_comanager">
<em class="property">object </em><tt class="descname">vbuffer_stream_comanager</tt><a class="headerlink" href="#haka-object.vbuffer_stream_comanager" title="Permalink to this definition">¶</a></dt>
<dd><p>This class allow to execute function inside a coroutine and to be able to block transparently
if needed when the stream does not have enough data available.</p>
<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream_comanager&gt;.new">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream_comanager&gt;:</tt><tt class="descname">new</tt><big>(</big><em>stream</em><big>)</big> &rarr; manager<a class="headerlink" href="#haka-function.<vbuffer_stream_comanager>.new" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stream</strong> &#8211; buffer stream</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Paramtype :</th><td class="field-body"><p class="first"><a class="reference internal" href="#haka-object.vbuffer_stream" title="vbuffer_stream"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_stream</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager</strong> (<a class="reference internal" href="#haka-object.vbuffer_stream_comanager" title="vbuffer_stream_comanager"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_stream_comanager</span></tt></a>) &#8211; instanciated stream coroutine manager object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream_comanager&gt;.start">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream_comanager&gt;:</tt><tt class="descname">start</tt><big>(</big><em>id</em>, <em>f</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_stream_comanager>.start" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>any</em>) &#8211; Identifier for the registered function.</li>
<li><strong>f</strong> (<em>function</em>) &#8211; Function to be started.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Register and start a new function on the stream.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream_comanager&gt;.has">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream_comanager&gt;:</tt><tt class="descname">has</tt><big>(</big><em>id</em><big>)</big> &rarr; found<a class="headerlink" href="#haka-function.<vbuffer_stream_comanager>.has" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>any</em>) &#8211; Identifier for the registered function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first last simple">
<li><strong>found</strong> (<em>boolean</em>) &#8211; <tt class="docutils literal"><span class="pre">true</span></tt> if the id is found inside the registered functions.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Check if the given <em>id</em> match a registered function.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream_comanager&gt;.process">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream_comanager&gt;:</tt><tt class="descname">process</tt><big>(</big><em>id</em>, <em>current</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_stream_comanager>.process" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>any</em>) &#8211; Identifier for the registered function.</li>
<li><strong>current</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Current position in the stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Resume execution for the registered <em>id</em>. This function needs to be called whenever some new
data are available on this stream.</p>
</dd></dl>

<dl class="method">
<dt id="haka-function.&lt;vbuffer_stream_comanager&gt;.process_all">
<em class="property"> </em><tt class="descclassname">&lt;vbuffer_stream_comanager&gt;:</tt><tt class="descname">process_all</tt><big>(</big><em>current</em><big>)</big><a class="headerlink" href="#haka-function.<vbuffer_stream_comanager>.process_all" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>current</strong> (<a class="reference internal" href="#haka-object.vbuffer_iterator" title="vbuffer_iterator"><tt class="xref haka haka-class docutils literal"><span class="pre">vbuffer_iterator</span></tt></a>) &#8211; Current position in the stream.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Resume execution for all registered functions.</p>
</dd></dl>

</dd></dl>

</div>
</div>


		</div>
	</div>
</div>



<footer id="footer">
	<div class="row" role="complementary">
		<div class="medium-12 columns">
			&copy; Copyright 2014, Arkoon Network Security, OpenWide and Telecom ParisTech.
		</div>
	</div>
</footer>
<script>
	  $(document).foundation();
</script>



<script type="text/javascript" src="http://www.haka-security.org/js/track.js"></script>


  </body>
</html>